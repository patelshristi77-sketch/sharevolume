<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading CIK Data...</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><script>async function fetchAndRenderData(cik) { const defaultCik = '0000723254'; const currentCik = cik || defaultCik; const proxyUrl = 'https://api.allorigins.win/raw?url='; const secApiBase = 'https://data.sec.gov/api/xbrl/companyconcept/'; const endpoint = `${secApiBase}CIK${currentCik}/dei/EntityCommonStockSharesOutstanding.json`; const fullUrl = `${proxyUrl}${encodeURIComponent(endpoint)}`; console.log(`Fetching data for CIK: ${currentCik}`); console.log(`Full URL: ${fullUrl}`); try { // Note: User-Agent header is typically set by the browser or proxy in client-side fetch. // For server-side requests to SEC, a descriptive User-Agent is critical (e.g., YourAppName/1.0 (your-email@example.com)). const response = await fetch(fullUrl, { headers: { 'Accept': 'application/json' } }); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } const data = await response.json(); const entityName = data.entityName; const sharesData = data.units.shares; const filteredShares = sharesData.filter(entry => parseInt(entry.fy) > 2020 && typeof entry.val === 'number'); if (filteredShares.length === 0) { throw new Error('No qualifying shares data found for the specified criteria.'); } let maxVal = -Infinity; let minVal = Infinity; let maxFy = ''; let minFy = ''; filteredShares.forEach(entry => { if (entry.val > maxVal) { maxVal = entry.val; maxFy = entry.fy; } if (entry.val < minVal) { minVal = entry.val; minFy = entry.fy; } }); document.title = `${entityName} - Common Stock Shares Outstanding`; document.getElementById('main-title').innerText = `${entityName} Common Stock Shares Outstanding`; document.getElementById('share-entity-name').innerText = entityName; document.getElementById('share-max-value').innerText = maxVal.toLocaleString(); document.getElementById('share-max-fy').innerText = maxFy; document.getElementById('share-min-value').innerText = minVal.toLocaleString(); document.getElementById('share-min-fy').innerText = minFy; } catch (error) { console.error('Error fetching or processing data:', error); document.title = 'Error Loading Data'; document.getElementById('main-title').innerText = 'Error Loading Data'; document.getElementById('content-area').innerHTML = `<p class="text-red-600 text-lg">Failed to load data. Please check the CIK or try again later. Error: ${error.message}</p>`; } } document.addEventListener('DOMContentLoaded', () => { const params = new URLSearchParams(window.location.search); const cikParam = params.get('CIK'); fetchAndRenderData(cikParam); });</script></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div id="content-area" class="bg-white rounded-lg shadow-xl p-8 w-full max-w-2xl text-center"><h1 id="main-title" class="text-4xl font-extrabold text-gray-800 mb-6">Loading...</h1><p class="text-gray-600 text-lg mb-8">Data for <span id="share-entity-name" class="font-semibold text-blue-700">...</span></p><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-blue-50 p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold text-blue-800 mb-3">Maximum Shares Outstanding</h2><p class="text-5xl font-extrabold text-blue-600" id="share-max-value">...</p><p class="text-gray-500 text-lg mt-2">Fiscal Year: <span id="share-max-fy" class="font-medium">...</span></p></div><div class="bg-green-50 p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold text-green-800 mb-3">Minimum Shares Outstanding</h2><p class="text-5xl font-extrabold text-green-600" id="share-min-value">...</p><p class="text-gray-500 text-lg mt-2">Fiscal Year: <span id="share-min-fy" class="font-medium">...</span></p></div></div><div class="mt-8 text-sm text-gray-400"><p>Data provided by SEC EDGAR. <a href="https://www.sec.gov/edgar/" target="_blank" class="text-blue-500 hover:underline">Learn more</a>.</p><p>Please note: User-Agent header considerations for client-side requests through proxies.</p></div></div></body></html>